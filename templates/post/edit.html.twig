{% extends 'base.html.twig' %}
{% block title %}
Edit post
{% endblock title %}
{% block body %}
<div class="my-14">
	<h1 class="text-4xl">Edit blog post</h1>
	<div class="w-full">
		{{ form_start(myEditPostForm)}}
		{# <form method="POST" action="{{ path('posts.edit', {id:1}) }}" #} {#
			class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"> #}
			{# <div class="mb-6"> #}
				{{ form_label(myEditPostForm.title , 'Post title' ,
				{ 'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}
				)}}
				{# <label class="block text-gray-700 font-bold mb-2" for="post-title">
					Post title
				</label> #}

				{# Deklarujemy zmienną error #}
				{% set title_error = form_errors(myEditPostForm.title) ? 'border-red-500' : ''%}
				{# <input name="title" required
					class="shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-2 leading-tight focus:outline-none focus:shadow-outline"
					id="post-title" type="text" value="post title"> #}
				{# input z atrybutami #}
				{{ form_widget(myEditPostForm.title ,
				{'attr' :
				{'class': (title_error)~'shadow appearance-none border rounded w-full py-2 px-3
				text-gray-700
				mb-2 leading-tight focus:outline-none focus:shadow-outline' ,
				'value' : '' ,
				'placeholder' : 'write post title here'}})}}
				{# <p class="text-red-500 text-xs italic">Error message</p> #}
				{# obłsuga błędów #}
				{% if myEditPostForm.title.vars['errors'] | length > 0 %}
				<p class="text-red-500 text-xs italic">
					{% for error in myEditPostForm.title.vars
					['errors'] %}
					<span>{{ error.message }}</span>
					{% endfor %}
				</p>
				{% endif %}
				{#
			</div>
			<div class="mb-6">
				<label class="block text-gray-700 font-bold mb-2" for="post-content">
					Post content
				</label>
				<textarea name="content" required id="post-content"
					class="drop-shadow-lg w-full h-60 p-4 border border-red-500 focus:outline-none focus:shadow-outline">post content</textarea>
				<p class="text-red-500 text-xs italic">error message</p>
			</div>
			<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer"
				type="submit">
				Save post
			</button> #}
			{# kolejny label #}
			{{ form_label(myEditPostForm.content , 'Post Content' ,
			{ 'label_attr' : {'class' : 'block text-gray-700 font-bold mb-2'}})}}

			{# Deklarujemy zmienną error #}
			{% set content_error = form_errors(myEditPostForm.title) ? 'border-red-500' : ''%}

			{{ form_widget(myEditPostForm.content , { 'attr' : {
			'class' : (content_error)~'drop-shadow-lg w-full h-60 p-4 border focus:outline-none
			focus:shadow-outline'
			, 'value' : '' , 'placeholder' : 'write content here'
			}})}}

			{# obłsuga błędów #}
			{% if myEditPostForm.content.vars['errors'] | length > 0 %}
			<p class="text-red-500 text-xs italic">
				{% for error in myEditPostForm.content.vars
				['errors'] %}
				<span>{{ error.message }}</span>
				{% endfor %}
			</p>
			{% endif %}

			{# Submit btn #}
			{{ form_widget(myEditPostForm.save , { 'attr' : {
			'class' : 'bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer'
			}})}}
			{#
		</form> #}
		{{ form_end(myEditPostForm)}}
	</div>
</div>
{% endblock %}